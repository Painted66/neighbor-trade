<section>
	<div class="text-center">
		<h1>The Trade</h1>
		<hr>
		<div class="spacer"></div>
	</div>

<div *ngFor = "let trade of trades" >
	<div class="row" >
		<div class="col-md-2"></div>
		<div class="col-md-4" align="center">
			<div class="panel panel-default" >
				<div class="col-xs-12 panel-heading">
			<h3>Offer</h3>
				</div>
			<p><b>{{trade.trade_offer_title}}</b></p>
			<p>{{trade.trade_offer_description}}</p>
			<p>Category: {{trade.trade_offer_categorie}}</p>
			<p (click)="goToUserProfile(getUserID(trade.trade_demand_recipient))">User: <a>{{getUserName(trade.trade_demand_recipient)}}</a></p>
			<p>Tags: {{trade.trade_offer_tags}}</p>
		</div>
		</div>
		<div class="col-md-4" align="center">
			<div class="panel panel-default" >
				<div class="col-xs-12 panel-heading">
			<h3>Demand</h3>
				</div>
			<p><b>{{trade.trade_demand_title}}</b></p>
			<p>{{trade.trade_demand_description}}</p>
			<p>Category: {{trade.trade_demand_categorie}}</p>
			<p (click)="goToUserProfile(getUserID(trade.trade_offer_recipient))">User: <a>{{getUserName(trade.trade_offer_recipient)}}</a></p>
			<p>Tags: {{trade.trade_demand_tags}}</p>
		</div>
		</div>
		<div class="col-md-2"></div>
</div>
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8" align="center">
			<div class="panel panel-default" >
				<div class="col-xs-12 panel-heading">
			<h3>Criterias</h3>
				</div>
			<p>You should have a minimum overall rating of <b>{{trade.trade_min_rating}}</b> stars.</p>
			<p>You have until <b>{{trade.trade_deadline | date: 'dd/MM/yyyy'}}</b> to apply for this trade</p>
			<p>You should be in <b>{{trade.trade_max_distance}}</b> km range of <b>{{getAdress(address)}}</b> </p>
		</div>
		</div>
		<div class="col-md-2"></div>
	</div>
	<div class="row">
		<div class="col-md-2"></div>
		<div class="col-md-8" align="center">
			<button type="button" class="btn" *ngIf="isRatable()" (click)="goToRateTrade(trade._id)">rate trade</button>
			<button type="button" class="btn" *ngIf="isMyTrade()" (click)="deleteTrade(trade._id)">delete trade</button>
			<button type="button" class="btn acceptBtn" *ngIf="isOpenForMe()" (click)="applyForTrade(trade._id)">apply for trade</button>
			<button type="button" class="btn acceptBtn" *ngIf="isMyTradeAppliedFor()" (click)="acceptTradePartner(trade._id)">accept trade</button>
			<button type="button" class="btn denyBtn" *ngIf="isMyTradeAppliedFor()" (click)="denyTradePartner(trade._id)">deny application</button>
		</div>
		<div class="col-md-2"></div>
	</div>
</div>

</section>
